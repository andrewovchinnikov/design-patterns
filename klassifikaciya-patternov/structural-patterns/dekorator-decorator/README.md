# Декоратор (Decorator)

#### Паттерн Декоратор (Decorator)

### **Описание**

Паттерн Декоратор позволяет динамически добавлять новое поведение объекту, оборачивая его в объект класса декоратора. Этот паттерн предоставляет гибкую альтернативу субклассированию для расширения функциональности.

### **Структура**

**Component (Компонент):**

* Определяет интерфейс для объектов, которые могут быть декорированы.

**ConcreteComponent (Конкретный Компонент):**

* Реализует интерфейс компонента и определяет базовое поведение.

**Decorator (Декоратор):**

* Реализует интерфейс компонента и содержит ссылку на объект компонента.
* Определяет интерфейс для добавления новых обязанностей к объекту.

**ConcreteDecorator (Конкретный Декоратор):**

* Добавляет новое поведение к объекту компонента.

### **UML Диаграмма**

{% code overflow="wrap" lineNumbers="true" %}
```uml
@startuml
abstract class Component {
    +operation()
}

class ConcreteComponent extends Component {
    +operation()
}

abstract class Decorator extends Component {
    -component: Component
    +Decorator(Component)
    +operation()
}

class ConcreteDecoratorA extends Decorator {
    +operation()
    +addedBehavior()
}

class ConcreteDecoratorB extends Decorator {
    +operation()
    +addedBehavior()
}

Component <|-- ConcreteComponent
Component <|-- Decorator
Decorator <|-- ConcreteDecoratorA
Decorator <|-- ConcreteDecoratorB
@enduml
```
{% endcode %}

### **Описание элементов**

**Component (Компонент):**

* `operation()`: Операция, которая должна быть реализована как для конкретных компонентов, так и для декораторов.

**ConcreteComponent (Конкретный Компонент):**

* `operation()`: Реализация операции для конкретного компонента.

**Decorator (Декоратор):**

* `component: Component`: Ссылка на объект компонента.
* `Decorator(Component)`: Конструктор, принимающий объект компонента.
* `operation()`: Реализация операции, которая может вызывать операцию компонента.

**ConcreteDecorator (Конкретный Декоратор):**

* `operation()`: Реализация операции, которая добавляет новое поведение к операции компонента.
* `addedBehavior()`: Метод, добавляющий новое поведение.

### **Преимущества**

* **Гибкость**: Позволяет динамически добавлять и удалять обязанности объекта.
* **Простота**: Упрощает расширение функциональности объектов без изменения их кода.
* **Единообразие**: Клиенты могут работать с декорированными объектами так же, как и с обычными объектами.

### **Недостатки**

* **Сложность**: Может усложнить дизайн системы из-за множества декораторов.
* **Производительность**: Операции с декорированными объектами могут быть менее эффективными из-за множества оберток.

**Применение**

* Когда нужно динамически добавлять обязанности объектам.
* Когда нужно избежать создания множества подклассов для расширения функциональности.
* Когда нужно, чтобы объекты могли быть декорированы различными способами.

### **Примеры**

* **Графические интерфейсы**: Декораторы могут использоваться для добавления границ, теней и других визуальных эффектов к графическим компонентам.
* **Сетевые соединения**: Декораторы могут использоваться для добавления сжатия, шифрования и других функций к сетевым соединениям.
* **Потоки ввода-вывода**: Декораторы могут использоваться для добавления буферизации, шифрования и других функций к потокам ввода-вывода.

Паттерн Декоратор является мощным инструментом для динамического расширения функциональности объектов и обеспечения гибкости в работе с ними.
