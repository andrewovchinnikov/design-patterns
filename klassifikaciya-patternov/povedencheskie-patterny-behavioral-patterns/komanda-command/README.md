# Команда (Command)

### **Описание**

Преобразует запросы в объекты, позволяя передавать их как параметры методам, ставить запросы в очередь, логировать их, а также поддерживать отмену операций.

### UML диаграмма

<figure><img src="../../../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption><p>UML диаграмма для паттерна "Команда"</p></figcaption></figure>

```plant-uml
@startuml

interface Command {
    +execute(): void
    +unexecute(): void
}

class ConcreteCommand {
    -receiver: Receiver
    +execute(): void
    +unexecute(): void
}

class Receiver {
    +action(): void
}

class Invoker {
    -command: Command
    +setCommand(command: Command): void
    +executeCommand(): void
}

ConcreteCommand --> Receiver: <<uses>>
Invoker --> Command: <<uses>>

@enduml

```

**Методы:**

* `execute(): void`: Метод для выполнения команды.
* `unexecute(): void`: Метод для отмены выполнения команды.

**ConcreteCommand (Конкретная команда):**&#x20;

**Описание:** Реализует метод `execute` и `unexecute`, определяя конкретные действия, которые должны быть выполнены.

**Поля:**

* `receiver: Receiver`: Ссылка на объект, который будет выполнять действия команды.

**Методы:**

* `execute(): void`: Реализация метода для выполнения команды.
* `unexecute(): void`: Реализация метода для отмены выполнения команды.

**Receiver (Получатель):** **Описание:** Объект, который знает, как выполнить операцию, связанную с запросом.

**Методы:**

* `action(): void`: Метод для выполнения действия, связанного с запросом.

**Invoker (Инициатор):** **Описание:** Объект, который хранит команду и вызывает её выполнение.

**Поля:**

* `command: Command`: Ссылка на команду.

**Методы:**

* `setCommand(command: Command): void`: Метод для установки команды.
* `executeCommand(): void`: Метод для выполнения команды.

### **Преимущества паттерна "Команда"**

* **Гибкость:** Позволяет добавлять новые команды без изменения существующего кода.
* **Разделение обязанностей:** Разделяет объект, инициирующий запрос, от объекта, который знает, как его выполнить.
* **Упрощение кода:** Упрощает код, так как каждая команда решает только свою задачу и не заботится о других командах.
* **Поддержка отмены операций:** Позволяет легко реализовать отмену операций.

### **Недостатки паттерна "Команда"**

* **Сложность:** Может усложнить код из-за введения дополнительных классов и интерфейсов.
* **Производительность:** В некоторых случаях может негативно сказаться на производительности из-за дополнительных вызовов методов.

### **Применение паттерна "Команда"**

* **Обработка запросов:** Когда нужно обрабатывать запросы различных типов, и каждый тип запроса должен быть обработан отдельной командой.
* **Логирование:** Когда нужно логировать выполнение команд.
* **Аутентификация и авторизация:** Когда нужно проверять права доступа на разных уровнях.
* **Маршрутизация:** Когда нужно маршрутизировать запросы по разным командам в зависимости от их типа.

### **Примеры использования паттерна "Команда"**

* **Обработка сообщений:** В системах обработки сообщений, где каждая команда может обрабатывать определенный тип сообщений.
* **Обработка исключений:** В системах обработки исключений, где каждая команда может обрабатывать определенный тип исключений.
* **Фильтрация данных:** В системах фильтрации данных, где каждая команда может обрабатывать определенный тип данных.
* **Отмена операций:** В системах, где требуется поддержка отмены выполненных операций.

Паттерн "Команда" является мощным инструментом для управления запросами и разделения обязанностей между различными командами. Он широко используется в различных областях, таких как обработка сообщений, логирование, аутентификация и авторизация, а также маршрутизация запросов.
